# PenguinSteamerSecondSeason
お金が溶けていくBOTです。
主な機能としては以下となります。

- 初期データ自動登録
  起動するだけで、あらかじめ作成しておいたDBに初期データを作成します。
- ローソク足の作成
  接続した取引所のWebSocketでTickerを取得すると、それを各時間足のローソク足データにしてくれます。

## はじめに
開発や検証ができるまでの手順を説明します。
### 前提条件
.NET Core2.2製です。
開発とテスト環境はWindows10、VisualStudio2017です。
DBはMariaDB10.3で動作を確認しています。
インストール作業を行う前に、MariaDBをセットアップしてユーザ作成まで完了した状態にします。

### インストール方法
プロジェクトごとチェックアウトを行います。
マイグレーション機能が必要なので、VisualStudio2017以降を使用します。

#### ファイルの編集
以下のファイルを編集します。

##### appsettings.Development.json
データベースの環境（検証系）に合わせて変更します。パスワードも書きます。

##### appsettings.Production.json
データベースの環境（本番系）に合わせて変更します。パスワードはここには書きません。

#### マイグレーション
変更を行ったら、マイグレーション機能でデータベースにテーブルを作成します。
パッケージマネージャコンソールに以下を入力します。

```
> Update-Database
```

### 使用方法
起動するだけで動作します。  
※初回起動時にデータを作成してくれますが、現在はその続きの処理が行われません。  
**初回は起動して10秒程度経過したら再起動を行ってください。**

### プログラムの構造について
現在、WebSocketServiceとApplicationという2つのクラスが  
それぞれ独立したスタート地点となっています。  
  
WebSocketService内のTickerServiceは独立してひたすら各取引所からローソク足データをDBに登録していくので、  
Application側に売買ロジックを実装することで役割の分担ができる設計です。  
Application側に売買ロジックを実装する場合、TickerServiceをインジェクションし、これを通じてローソクデータを参照できます。  

WebSocketService側のローソク足生成ロジックは、CandleMakerクラスに集約して実装しています。  
  
Application側ロジックはまだ実装していません。  

### 使用上の注意
記録する時間は世界標準時となっているので、日本標準時より9時間ズレて注意してください。

## テストの実行
xUnitによる単体テストを行うことができます。  
テストエクスプローラでテストの実行を行ってください。

## デプロイ
未検証です。

## 協働するシステムのリスト
- NLog
- xUnit

## コントリビューション
私たちのコーディング規範とプルリクエストの手順などは特に考えていません。

## バージョン管理
私たちはバージョン管理方法を特に設けていません。

## 著者
- **Ginpaydo** - *原著者* - [Ginpaydo](https://github.com/ginpaydo)  
このプロジェクトへの[貢献者](https://github.com/ginpaydo/project/contributors)のリストもご覧ください。

## ライセンス
このプロジェクトは MIT ライセンスの元にライセンスされています。 詳細は[LICENSE.md](LICENSE.md)をご覧ください。

## 謝辞
- 話し相手になって頂いた仮想通貨Discordコミュニティの皆さんに感謝します。
